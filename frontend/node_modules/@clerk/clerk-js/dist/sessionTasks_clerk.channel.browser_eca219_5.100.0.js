"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["877"],{1618:function(e,t,r){r.r(t),r.d(t,{SessionTasks:()=>m});var o=r(3312),s=r(3799),n=r(2810),i=r(9144),l=r(4204),c=r(2418),a=r(2672),u=r(1455),h=r(6663),d=r(6988),Z=r(4676),k=r(6091);let f=()=>{let e=(0,s.cL)(),{navigate:t}=(0,Z.useRouter)(),{redirectUrlComplete:r}=(0,d.G)();return(0,i.useEffect)(()=>{let r=setTimeout(()=>{let r=e.session?.currentTask?.key;r&&t(`./${h.fr[r]}`)},500);return()=>clearTimeout(r)},[t,e,r]),(0,o.tZ)(l.Flow.Part,{part:"start",children:(0,o.BX)(c.Z.Root,{children:[(0,o.tZ)(c.Z.Content,{children:(0,o.tZ)(u.I,{})}),(0,o.tZ)(c.Z.Footer,{})]})})};function T(){let e=(0,d.G)();return(0,o.tZ)(l.Flow.Root,{flow:"tasks",children:(0,o.BX)(Z.Switch,{children:[(0,o.tZ)(Z.Route,{path:h.fr["choose-organization"],children:(0,o.tZ)(d.md.Provider,{value:{componentName:"TaskChooseOrganization",redirectUrlComplete:e.redirectUrlComplete},children:(0,o.tZ)(k.TaskChooseOrganization,{})})}),(0,o.tZ)(Z.Route,{index:!0,children:(0,o.tZ)(f,{})})]})})}let m=(0,a.withCardStateProvider)(({redirectUrlComplete:e})=>{let t=(0,s.cL)(),{navigate:r}=(0,Z.useRouter)(),l=(0,i.useRef)(null);if((0,i.useEffect)(()=>{let o=t.session?.currentTask;if(!o||t.session?.status==="active")return void r(e);t.telemetry?.record((0,n.Zg)("SessionTask",{task:o.key}))},[t,r,e]),!t.session?.currentTask)return(0,o.BX)(c.Z.Root,{sx:()=>({minHeight:l?l.current?.offsetHeight:void 0}),children:[(0,o.tZ)(c.Z.Content,{sx:()=>({flex:1}),children:(0,o.tZ)(u.I,{})}),(0,o.tZ)(c.Z.Footer,{})]});let a=async({session:t})=>{let o=t.currentTask;return o?r(`./${h.fr[o.key]}`):r(e)};return(0,o.tZ)(d.Hs.Provider,{value:{redirectUrlComplete:e,currentTaskContainer:l,navigateOnSetActive:a},children:(0,o.tZ)(T,{})})})}}]);